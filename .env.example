# =============================================================================
# CryptoEats — Environment Variables
# =============================================================================
# Copy this file to .env and fill in your values.
# For Vercel: Add these in Settings > Environment Variables.
# Variables marked [REQUIRED] must be set. Others are optional enhancements
# that fall back to simulation or in-memory defaults when not configured.
# =============================================================================

# ─── CORE (REQUIRED) ────────────────────────────────────────────────────────

# [REQUIRED] PostgreSQL connection string
# ┌─────────────────────────────────────────────────────────────────────────────┐
# │  HOW TO GET A FREE POSTGRESQL DATABASE                                     │
# │                                                                             │
# │  Option A: Neon (recommended — fast, free tier, serverless)                 │
# │    1. Go to https://neon.tech and sign up (GitHub/Google login)             │
# │    2. Click "New Project" → name it "cryptoeats"                            │
# │    3. Choose region: US East (iad) for lowest Vercel latency                │
# │    4. Once created, copy the connection string from the dashboard           │
# │       It looks like: postgresql://user:pass@ep-xxx.us-east-2.aws.neon.tech/cryptoeats?sslmode=require  │
# │    5. Paste it below (or add it in Vercel → Settings → Environment Vars)   │
# │                                                                             │
# │  Option B: Supabase (free tier, includes extras like auth/storage)          │
# │    1. Go to https://supabase.com and sign up                                │
# │    2. Create a new project → wait for it to initialize                      │
# │    3. Go to Settings → Database → Connection String                         │
# │    4. Choose "Transaction" pooler mode, copy the URI                        │
# │    5. Paste it below                                                        │
# │                                                                             │
# │  Option C: Any PostgreSQL provider (Railway, Render, AWS RDS, etc.)         │
# │    Use the standard connection string format:                               │
# │    postgresql://user:password@host:5432/dbname?sslmode=require              │
# │                                                                             │
# │  IMPORTANT: After setting DATABASE_URL, redeploy on Vercel.                 │
# │  Tables are created automatically on first start.                           │
# └─────────────────────────────────────────────────────────────────────────────┘
DATABASE_URL=postgresql://user:password@host:5432/cryptoeats

# [REQUIRED] Secret used to sign JWT tokens (use a long random string)
SESSION_SECRET=your-jwt-secret-here

# Port for the server (Vercel ignores this, used locally)
PORT=5000

# Production app URL (used for payment return URLs, emails, etc.)
APP_URL=https://your-domain.vercel.app

# ─── FRONTEND / EXPO (Replit Only) ──────────────────────────────────────────

# Domain the Expo client uses to reach the API (auto-set on Replit)
# EXPO_PUBLIC_DOMAIN=https://your-repl.replit.dev
# REPLIT_DEV_DOMAIN= (auto-set by Replit)
# REPLIT_DOMAINS= (auto-set by Replit)

# ─── PAYMENTS — STRIPE (Default Provider) ───────────────────────────────────

STRIPE_SECRET_KEY=sk_live_...
STRIPE_WEBHOOK_SECRET=whsec_...

# ─── PAYMENTS — COINBASE COMMERCE (Crypto) ──────────────────────────────────

COINBASE_COMMERCE_API_KEY=your-coinbase-commerce-key

# ─── PAYMENTS — ADYEN (International) ───────────────────────────────────────

ADYEN_API_KEY=your-adyen-api-key
ADYEN_MERCHANT_ACCOUNT=your-merchant-account
ADYEN_ENVIRONMENT=TEST

# ─── PAYMENTS — GODADDY PAYMENTS ────────────────────────────────────────────

GODADDY_PAYMENTS_API_KEY=your-godaddy-key
GODADDY_PAYMENTS_API_URL=https://api.godaddypayments.com/v1

# ─── PAYMENTS — SQUARE (POS) ────────────────────────────────────────────────

SQUARE_ACCESS_TOKEN=your-square-token
SQUARE_ENVIRONMENT=sandbox

# ─── NOTIFICATIONS ──────────────────────────────────────────────────────────

# SendGrid (email notifications)
SENDGRID_API_KEY=SG.your-sendgrid-key
SENDGRID_FROM_EMAIL=noreply@cryptoeats.io

# Twilio (SMS notifications)
TWILIO_SID=your-twilio-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE=+1234567890

# ─── IDENTITY & COMPLIANCE ─────────────────────────────────────────────────

# Persona (age/ID verification) — falls back to simulation if not set
PERSONA_API_KEY=your-persona-key
PERSONA_TEMPLATE_ALCOHOL=tmpl_age21_alcohol
PERSONA_TEMPLATE_DRIVER=tmpl_driver_background

# Checkr (driver background checks) — falls back to simulation if not set
CHECKR_API_KEY=your-checkr-key

# Florida DBPR liquor license verification API
FL_DBPR_API_URL=https://api.myfloridalicense.com/v1

# ─── MAPS & TRACKING ───────────────────────────────────────────────────────

GOOGLE_MAPS_API_KEY=your-google-maps-key

# ─── CLOUD STORAGE (AWS S3) ────────────────────────────────────────────────

# Falls back to local filesystem if not set
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-access-key
AWS_SECRET_ACCESS_KEY=your-secret-key
S3_BUCKET=cryptoeats-uploads

# ─── CACHING (REDIS) ───────────────────────────────────────────────────────

# Falls back to in-memory cache if not set
REDIS_URL=redis://localhost:6379

# ─── MONITORING ─────────────────────────────────────────────────────────────

SENTRY_DSN=https://your-sentry-dsn@sentry.io/123

# ─── AI (GEMINI) ───────────────────────────────────────────────────────────

# Managed by Replit integration — set manually for Vercel
AI_INTEGRATIONS_GEMINI_API_KEY=your-gemini-key
AI_INTEGRATIONS_GEMINI_BASE_URL=https://generativelanguage.googleapis.com

# ─── BLOCKCHAIN (BASE NETWORK) ─────────────────────────────────────────────

# "sepolia" for testnet, "mainnet" for production
BASE_NETWORK=sepolia

# ─── WEBHOOKS & PLATFORM API ───────────────────────────────────────────────

WEBHOOK_SECRET=your-webhook-signing-secret

# ─── OPEN PLATFORM ─────────────────────────────────────────────────────────

API_PLAYGROUND_ENABLED=true
